自动生成Makefile

From: http://hi.baidu.com/wylhistory/item/2371fa0b34bed9dd73e676a9 

configure.in:
AC_PREREQ(2.61)
AC_INIT(hello.c)
AM_INIT_AUTOMAKE(hello,1.0)

# Checks for programs.
AC_PROG_CC

# Checks for libraries.

# Checks for header files.

# Checks for typedefs, structures, and compiler characteristics.

# Checks for library functions.

AC_OUTPUT(Makefile)



Makefile.am:
AUTOMAKE_OPTIONS = foreign
INCLUDES = `pkg-config --cflags gtk+-2.0`
LIBS = ` pkg-config --libs gtk+-2.0`
bin_PROGRAMS = hello
main_SOURCES = hello.c                            


自动生成Makefile的步骤：
1,autoscan->configure.scan
2,把configure.scan改名成configure.in
3,修改configure.in如上所示
4,调用aclocal
5,调用autoconf
6,修改Makefile.am如上所示
7,调用auotmake -a -c
8,调用configure
如此就生成了我们想要的Makefile
